@startuml

!define BUILDINGSERVICE class "BuildingService"
!define FLOORSERVICE class "FloorService"
!define COMPONENT class "ListPassageBetween2BuildingsComponent"

participant "User" as User
participant BUILDINGSERVICE as BuildingService
participant FLOORSERVICE as FloorService
participant COMPONENT as Component

User -> Component: Initialize
activate Component

Component -> BuildingService: getBuildings()
activate BuildingService
BuildingService --> Component: buildings
deactivate BuildingService

Component -> Component: ListPassageBetween2Buildings()

alt Buildings Found
  Component -> Component: Get selectedBuildingID1 and selectedBuildingID2
  Component -> BuildingService: getBuildings()
  activate BuildingService
  BuildingService --> Component: buildings
  deactivate BuildingService

  Component -> FLOORSERVICE: ListFloorsFromBuildingComponent(selectedBuildingID1)
  activate FLOORSERVICE
  FLOORSERVICE --> Component: FloorsFromBuilding1
  deactivate FLOORSERVICE

  Component -> FLOORSERVICE: ListFloorsFromBuildingComponent(selectedBuildingID2)
  activate FLOORSERVICE
  FLOORSERVICE --> Component: FloorsFromBuilding2
  deactivate FLOORSERVICE

  Component -> Component: Check passages between buildings
  Component -> FLOORSERVICE: ListFloorsFromBuildingComponent(selectedBuildingID1)
  activate FLOORSERVICE
  FLOORSERVICE --> Component: FloorsFromBuilding1
  deactivate FLOORSERVICE

  Component -> FLOORSERVICE: ListFloorsFromBuildingComponent(selectedBuildingID2)
  activate FLOORSERVICE
  FLOORSERVICE --> Component: FloorsFromBuilding2
  deactivate FLOORSERVICE
else
  Component --> User: No buildings found
end

@enduml
