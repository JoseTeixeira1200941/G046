@startuml

!define FLOORSERVICE class "FloorService"
!define BUILDINGSERVICE class "BuildingService"
!define COMPONENT class "CreateFloorComponent"

participant "User" as User
participant FLOORSERVICE as FloorService
participant BUILDINGSERVICE as BuildingService
participant COMPONENT as CreateFloorComponent

User -> COMPONENT: Initialize
activate COMPONENT

COMPONENT -> BUILDINGSERVICE: getBuildings()
activate BUILDINGSERVICE
BUILDINGSERVICE --> COMPONENT: buildings
deactivate BUILDINGSERVICE

User -> COMPONENT: Fill floorData fields
User -> COMPONENT: Upload floor map
activate COMPONENT

COMPONENT -> COMPONENT: handleUploadSuccess(filename)
COMPONENT --> COMPONENT: isFormReadyToSubmit = true
deactivate COMPONENT

User -> COMPONENT: Click Create Floor button
activate COMPONENT

COMPONENT -> FLOORSERVICE: createFloor(floorData)
activate FLOORSERVICE
FLOORSERVICE --> COMPONENT: response or error
deactivate FLOORSERVICE

COMPONENT --> User: Display success or error message
deactivate COMPONENT

@enduml
