<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1191px" preserveAspectRatio="none" style="width:1932px;height:1191px;" version="1.1" viewBox="0 0 1932 1191" width="1932px" zoomAndPan="magnify"><defs><filter height="300%" id="f1j7zc7y84fqwh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="996.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="47" y="96.2969"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="974.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="258" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="769.4531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="450" y="271.0938"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="792.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="300.2266"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="711.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="811" y="329.3594"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="682.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="990" y="358.4922"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="344.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1482" y="387.625"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1749" y="416.7578"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1749" y="673.9531"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="851.6563" style="stroke: #000000; stroke-width: 2.0;" width="1805.5" x="13" y="232.8281"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="543.5234" style="stroke: #000000; stroke-width: 2.0;" width="1785.5" x="23" y="490.0234"/><rect fill="#FFFFFF" height="147.6641" style="stroke: none; stroke-width: 1.0;" width="1785.5" x="23" y="885.8828"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="1805.5" x="13" y="1040.5469"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="52" x2="52" y1="86.2969" y2="1101.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="263" x2="263" y1="86.2969" y2="1101.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="455" x2="455" y1="86.2969" y2="1101.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="636.5" x2="636.5" y1="86.2969" y2="1101.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="816" x2="816" y1="86.2969" y2="1101.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="994.5" x2="994.5" y1="86.2969" y2="1101.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1486.5" x2="1486.5" y1="86.2969" y2="1101.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1753.5" x2="1753.5" y1="86.2969" y2="1101.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1866.5" x2="1866.5" y1="86.2969" y2="1101.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="33" y="82.9951">User</text><ellipse cx="52" cy="13" fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M52,21 L52,48 M39,29 L65,29 M52,48 L39,63 M52,48 L65,63 " fill="none" filter="url(#f1j7zc7y84fqwh)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="33" y="1113.4795">User</text><ellipse cx="52" cy="1126.7813" fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M52,1134.7813 L52,1161.7813 M39,1142.7813 L65,1142.7813 M52,1161.7813 L39,1176.7813 M52,1161.7813 L65,1176.7813 " fill="none" filter="url(#f1j7zc7y84fqwh)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="62.8906" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="200" y="18.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="81" x="220.5" y="38.4014">«Frontend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="235" y="54.6982">Angular</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="207" y="70.9951">EditComponent</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="62.8906" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="200" y="1100.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="81" x="220.5" y="1120.4795">«Frontend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="235" y="1136.7764">Angular</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="207" y="1153.0732">EditComponent</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="405" y="34.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="81" x="412.5" y="54.6982">«Frontend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="412" y="70.9951">UserService</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="405" y="1100.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="81" x="412.5" y="1120.4795">«Frontend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="412" y="1136.7764">UserService</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="578.5" y="34.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="595.5" y="54.6982">«Backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="585.5" y="70.9951">UserController</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="578.5" y="1100.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="595.5" y="1120.4795">«Backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="585.5" y="1136.7764">UserController</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="751" y="34.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="774.5" y="54.6982">«Backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="758" y="70.9951">IUserAppService</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="751" y="1100.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="774.5" y="1120.4795">«Backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="758" y="1136.7764">IUserAppService</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="931.5" y="34.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="953.5" y="54.6982">«Backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="938.5" y="70.9951">UserAppService</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="931.5" y="1100.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="953.5" y="1120.4795">«Backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="938.5" y="1136.7764">UserAppService</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="1366.5" y="34.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="1445.5" y="54.6982">«Backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="223" x="1373.5" y="70.9951">UserManager&lt;ApplicationUser&gt;</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="1366.5" y="1100.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="1445.5" y="1120.4795">«Backend»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="223" x="1373.5" y="1136.7764">UserManager&lt;ApplicationUser&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="83" x="1709.5" y="66.6982">«Database»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="1716.5" y="82.9951">MongoDB</text><path d="M1736,17.7031 C1736,7.7031 1754,7.7031 1754,7.7031 C1754,7.7031 1772,7.7031 1772,17.7031 L1772,43.7031 C1772,53.7031 1754,53.7031 1754,53.7031 C1754,53.7031 1736,53.7031 1736,43.7031 L1736,17.7031 " fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1736,17.7031 C1736,27.7031 1754,27.7031 1754,27.7031 C1754,27.7031 1772,27.7031 1772,17.7031 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="83" x="1709.5" y="1113.4795">«Database»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="1716.5" y="1129.7764">MongoDB</text><path d="M1736,1143.0781 C1736,1133.0781 1754,1133.0781 1754,1133.0781 C1754,1133.0781 1772,1133.0781 1772,1143.0781 L1772,1169.0781 C1772,1179.0781 1754,1179.0781 1754,1179.0781 C1754,1179.0781 1736,1179.0781 1736,1169.0781 L1736,1143.0781 " fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1736,1143.0781 C1736,1153.0781 1754,1153.0781 1754,1153.0781 C1754,1153.0781 1772,1153.0781 1772,1143.0781 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="1808.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="1815.5" y="70.9951">UserController</text><rect fill="#FEFECE" filter="url(#f1j7zc7y84fqwh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="1808.5" y="1100.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="1815.5" y="1120.4795">UserController</text><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="996.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="47" y="96.2969"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="974.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="258" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="769.4531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="450" y="271.0938"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="792.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="300.2266"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="711.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="811" y="329.3594"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="682.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="990" y="358.4922"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="344.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1482" y="387.625"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1749" y="416.7578"/><rect fill="#FFFFFF" filter="url(#f1j7zc7y84fqwh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1749" y="673.9531"/><polygon fill="#A80036" points="246,113.4297,256,117.4297,246,121.4297,250,117.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57" x2="252" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="64" y="112.3638">Edit User</text><polygon fill="#A80036" points="68,142.5625,58,146.5625,68,150.5625,64,146.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62" x2="257" y1="146.5625" y2="146.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="74" y="141.4966">Asks for data</text><polygon fill="#A80036" points="246,171.6953,256,175.6953,246,179.6953,250,175.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="57" x2="252" y1="175.6953" y2="175.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="64" y="170.6294">Introduces data to edit user</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="268" x2="310" y1="204.8281" y2="204.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="310" x2="310" y1="204.8281" y2="217.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="269" x2="310" y1="217.8281" y2="217.8281"/><polygon fill="#A80036" points="279,213.8281,269,217.8281,279,221.8281,275,217.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="275" y="199.7622">"Validate input (HTML5)"</text><path d="M13,232.8281 L77,232.8281 L77,239.8281 L67,249.8281 L13,249.8281 L13,232.8281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="851.6563" style="stroke: #000000; stroke-width: 2.0;" width="1805.5" x="13" y="232.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="245.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="92" y="245.0386">[Validation Successful]</text><polygon fill="#A80036" points="438,267.0938,448,271.0938,438,275.0938,442,271.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268" x2="444" y1="271.0938" y2="271.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="275" y="266.0278">edit(user)</text><polygon fill="#A80036" points="620,296.2266,630,300.2266,620,304.2266,624,300.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="460" x2="626" y1="300.2266" y2="300.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="467" y="295.1606">POST /edit(editUserDto)</text><polygon fill="#A80036" points="799,325.3594,809,329.3594,799,333.3594,803,329.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="642" x2="805" y1="329.3594" y2="329.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="649" y="324.2935">editUser(user)</text><polygon fill="#A80036" points="978,354.4922,988,358.4922,978,362.4922,982,358.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="821" x2="984" y1="358.4922" y2="358.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="828" y="353.4263">editUser(user)</text><polygon fill="#A80036" points="1470,383.625,1480,387.625,1470,391.625,1474,387.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000" x2="1476" y1="387.625" y2="387.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="1007" y="382.5591">FindByEmailAsync(user.currentEmail)</text><polygon fill="#A80036" points="1737,412.7578,1747,416.7578,1737,420.7578,1741,416.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1492" x2="1743" y1="416.7578" y2="416.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="1499" y="411.6919">FindByEmailAsync(user.currentEmail)</text><polygon fill="#A80036" points="1503,441.8906,1493,445.8906,1503,449.8906,1499,445.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1497" x2="1753" y1="445.8906" y2="445.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1509" y="440.8247">AppUser/null</text><polygon fill="#A80036" points="1011,471.0234,1001,475.0234,1011,479.0234,1007,475.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1005" x2="1481" y1="475.0234" y2="475.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1017" y="469.9575">AppUser/null</text><path d="M23,490.0234 L87,490.0234 L87,497.0234 L77,507.0234 L23,507.0234 L23,490.0234 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="543.5234" style="stroke: #000000; stroke-width: 2.0;" width="1785.5" x="23" y="490.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="503.0903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="102" y="502.2339">[user is found]</text><polygon fill="#A80036" points="1470,524.2891,1480,528.2891,1470,532.2891,1474,528.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000" x2="1476" y1="528.2891" y2="528.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="1007" y="523.2231">SetEmailAsync(AppUser, user.email)</text><polygon fill="#A80036" points="1470,553.4219,1480,557.4219,1470,561.4219,1474,557.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000" x2="1476" y1="557.4219" y2="557.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="458" x="1007" y="552.356">ChangePasswordAsync(AppUser, user.currentPassword, user.password)</text><polygon fill="#A80036" points="1470,582.5547,1480,586.5547,1470,590.5547,1474,586.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000" x2="1476" y1="586.5547" y2="586.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="349" x="1007" y="581.4888">SetPhoneNumberAsync(AppUser, user.phoneNumber)</text><polygon fill="#A80036" points="1470,611.6875,1480,615.6875,1470,619.6875,1474,615.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000" x2="1476" y1="615.6875" y2="615.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="1007" y="610.6216">SetUserNameAsync(AppUser, user.name)</text><polygon fill="#A80036" points="1470,640.8203,1480,644.8203,1470,648.8203,1474,644.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000" x2="1476" y1="644.8203" y2="644.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="1007" y="639.7544">UpdateAsync(user)</text><polygon fill="#A80036" points="1737,669.9531,1747,673.9531,1737,677.9531,1741,673.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1492" x2="1743" y1="673.9531" y2="673.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="1499" y="668.8872">UpdateAsync(user)</text><polygon fill="#A80036" points="1503,699.0859,1493,703.0859,1503,707.0859,1499,703.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1497" x2="1753" y1="703.0859" y2="703.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="1509" y="698.02">Success</text><polygon fill="#A80036" points="1011,728.2188,1001,732.2188,1011,736.2188,1007,732.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1005" x2="1486" y1="732.2188" y2="732.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="1017" y="727.1528">Success</text><polygon fill="#A80036" points="832,757.3516,822,761.3516,832,765.3516,828,761.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="826" x2="989" y1="761.3516" y2="761.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="838" y="756.2856">Success</text><polygon fill="#A80036" points="653,786.4844,643,790.4844,653,794.4844,649,790.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="647" x2="810" y1="790.4844" y2="790.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="659" y="785.4185">Success</text><polygon fill="#A80036" points="471,815.6172,461,819.6172,471,823.6172,467,819.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="465" x2="631" y1="819.6172" y2="819.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="477" y="814.5513">Success</text><polygon fill="#A80036" points="279,844.75,269,848.75,279,852.75,275,848.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="273" x2="449" y1="848.75" y2="848.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="285" y="843.6841">User edited with success</text><polygon fill="#A80036" points="68,873.8828,58,877.8828,68,881.8828,64,877.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="62" x2="257" y1="877.8828" y2="877.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="74" y="872.8169">User edited with success</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1808.5" y1="886.8828" y2="886.8828"/><polygon fill="#A80036" points="832,905.0156,822,909.0156,832,913.0156,828,909.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="826" x2="989" y1="909.0156" y2="909.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="838" y="903.9497">Failure: User not found</text><polygon fill="#A80036" points="653,934.1484,643,938.1484,653,942.1484,649,938.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="647" x2="810" y1="938.1484" y2="938.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="659" y="933.0825">Failure: User not found</text><polygon fill="#A80036" points="471,963.2813,461,967.2813,471,971.2813,467,967.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="465" x2="631" y1="967.2813" y2="967.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="477" y="962.2153">Failure: User not found</text><polygon fill="#A80036" points="279,992.4141,269,996.4141,279,1000.4141,275,996.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="273" x2="449" y1="996.4141" y2="996.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="285" y="991.3481">User was not found</text><polygon fill="#A80036" points="68,1021.5469,58,1025.5469,68,1029.5469,64,1025.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="62" x2="257" y1="1025.5469" y2="1025.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="74" y="1020.481">User was not found</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1818.5" y1="1041.5469" y2="1041.5469"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="18" y="1051.7573">[Validation Failed]</text><polygon fill="#A80036" points="68,1072.4844,58,1076.4844,68,1080.4844,64,1076.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62" x2="257" y1="1076.4844" y2="1076.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="74" y="1071.4185">Validation Error</text><!--MD5=[e8a82d5ff4b9f11817edb94d0d46428f]
@startuml
actor User

participant "Angular\nEditComponent" as Frontend <<Frontend>>
participant "UserService" as UserSrvc <<Frontend>>
participant "UserController" as Controller <<Backend>>
participant "IUserAppService" as IUserAppService <<Backend>>
participant "UserAppService" as UserAppService <<Backend>>
participant "UserManager<ApplicationUser>" as UserManager <<Backend>>
database "MongoDB" as MongoDB <<Database>>

activate User
User -> Frontend: Edit User
activate Frontend
Frontend -> User: Asks for data
User -> Frontend: Introduces data to edit user
Frontend -> Frontend: "Validate input (HTML5)"
alt Validation Successful
    Frontend -> UserSrvc: edit(user)
    activate UserSrvc
    UserSrvc -> Controller: POST /edit(editUserDto)
    activate Controller

    Controller -> IUserAppService: editUser(user)
    activate IUserAppService

    IUserAppService -> UserAppService: editUser(user)
    activate UserAppService

    UserAppService -> UserManager: FindByEmailAsync(user.currentEmail)
    activate UserManager
    UserManager -> MongoDB: FindByEmailAsync(user.currentEmail)
    activate MongoDB
    MongoDB - -> UserManager: AppUser/null
    deactivate MongoDB
    UserManager - -> UserAppService: AppUser/null
    alt user is found
      UserAppService -> UserManager: SetEmailAsync(AppUser, user.email)
      UserAppService -> UserManager: ChangePasswordAsync(AppUser, user.currentPassword, user.password)
      UserAppService -> UserManager: SetPhoneNumberAsync(AppUser, user.phoneNumber)
      UserAppService -> UserManager: SetUserNameAsync(AppUser, user.name)
      UserAppService -> UserManager: UpdateAsync(user)
      UserManager -> MongoDB: UpdateAsync(user)
      activate MongoDB
      MongoDB - -> UserManager: Success
      deactivate MongoDB
      UserManager - -> UserAppService: Success
      deactivate UserManager
      UserAppService - -> IUserAppService: Success
      IUserAppService - -> Controller: Success
      Controller - -> UserSrvc: Success
      UserSrvc - -> Frontend: User edited with success
      Frontend - -> User: User edited with success
    else
      UserAppService - -> IUserAppService: Failure: User not found
      IUserAppService - -> Controller: Failure: User not found
      Controller - -> UserSrvc: Failure: User not found
      UserSrvc - -> Frontend: User was not found
      Frontend - -> User: User was not found
    end
    deactivate UserAppService
    deactivate IUserAppService
    deactivate UserController
    deactivate UserSrvc
else Validation Failed
    Frontend -> User: Validation Error
end
deactivate Frontend
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>