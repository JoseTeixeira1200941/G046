/* eslint no-undefined: 0 */
'use strict';

var format = require('./format');
<<<<<<< HEAD

var _require = require('triple-beam'),
    MESSAGE = _require.MESSAGE;

var jsonStringify = require('safe-stable-stringify');
=======
var _require = require('triple-beam'),
  MESSAGE = _require.MESSAGE;
var jsonStringify = require('safe-stable-stringify');

>>>>>>> 8fea50a98e3683e334cf159da2406c53e1f99e99
/*
 * function simple (info)
 * Returns a new instance of the simple format TransformStream
 * which writes a simple representation of logs.
 *
 *    const { level, message, splat, ...rest } = info;
 *
 *    ${level}: ${message}                            if rest is empty
 *    ${level}: ${message} ${JSON.stringify(rest)}    otherwise
 */
<<<<<<< HEAD


=======
>>>>>>> 8fea50a98e3683e334cf159da2406c53e1f99e99
module.exports = format(function (info) {
  var stringifiedRest = jsonStringify(Object.assign({}, info, {
    level: undefined,
    message: undefined,
    splat: undefined
  }));
  var padding = info.padding && info.padding[info.level] || '';
<<<<<<< HEAD

=======
>>>>>>> 8fea50a98e3683e334cf159da2406c53e1f99e99
  if (stringifiedRest !== '{}') {
    info[MESSAGE] = "".concat(info.level, ":").concat(padding, " ").concat(info.message, " ").concat(stringifiedRest);
  } else {
    info[MESSAGE] = "".concat(info.level, ":").concat(padding, " ").concat(info.message);
  }
<<<<<<< HEAD

=======
>>>>>>> 8fea50a98e3683e334cf159da2406c53e1f99e99
  return info;
});